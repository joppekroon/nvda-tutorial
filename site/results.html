<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Results - NVDA Tutorial</title>

	<link rel="stylesheet" href="style/base.css">
	<style>
		details {
			margin-bottom: 2rem;
		}

		.hidden {
			display: none;
		}

		.result-icon.correct {
			color: #007936;
		}

		.result-icon.failed {
			color: #d30038;
		}

		@media (prefers-color-scheme: dark) {
			.result-icon.correct {
				color: #00d061;
			}

			.result-icon.failed {
				color: #ff97a0;
			}
		}
	</style>

	<link rel="icon" href="favicon.svg">
</head>

<body>
	<header>
		<h1>Your Results: <span id="score"></span> out of <span id="total"></span></h1>
	</header>

	<main>
		<p>
			There is a <a href="cheat-sheet.html">cheat-sheet</a> of the controls from this tutorial and a little more.
		</p>
		<p>
			If you want to dive deeper, you can find a bigger <a
				href="https://webaim.org/resources/shortcuts/nvda">cheat-sheet by WebAim</a>, or go to the <a
				href="https://www.nvaccess.org/files/nvda/documentation/userGuide.html">NVDA User Guide</a>.
		</p>

		<details id="sixth-result" class="result">
			<summary>
				<span id="sixth-correct" class="result-icon correct hidden" aria-label="Correct">✓</span>
				<span id="sixth-failed" class="result-icon failed hidden" aria-label="Incorrect">✕</span>
				<span>The Sixth Sense</span>
			</summary>
			<p>
				Given: <span id="sixth-given"></span>
			</p>
			<p>
				Expected: <span id="sixth-expected">C</span>
			</p>
			<p>
				To <a href="the-sixth-sense.html">The Sixth Sense</a>.
			</p>
		</details>

		<details id="spelling-result" class="result">
			<summary>
				<span id="spelling-correct" class="result-icon correct hidden" aria-label="Correct">✓</span>
				<span id="spelling-failed" class="result-icon failed hidden" aria-label="Incorrect">✕</span>
				<span>Spelling Bee</span>
			</summary>
			<p>
				Given: <span id="spelling-given"></span>
			</p>
			<p>
				Expected: <span id="spelling-expected">Fuchsia</span>
			</p>
			<p>
				To <a href="spelling-bee.html">Spelling Bee</a>.
			</p>
		</details>

		<details id="hide-result" class="result">
			<summary>
				<span id="hide-correct" class="result-icon correct hidden" aria-label="Correct">✓</span>
				<span id="hide-failed" class="result-icon failed hidden" aria-label="Incorrect">✕</span>
				<span>Hide and Seek</span>
			</summary>
			<p>
				Given: <span id="hide-given"></span>
			</p>
			<p>
				Expected: <span id="hide-expected">Finagle</span>
			</p>
			<p>
				To <a href="hide-and-seek.html">Hide and Seek</a>.
			</p>
		</details>

		<details id="mark-result" class="result">
			<summary>
				<span id="mark-correct" class="result-icon correct hidden" aria-label="Correct">✓</span>
				<span id="mark-failed" class="result-icon failed hidden" aria-label="Incorrect">✕</span>
				<span>Mark my Words</span>
			</summary>
			<p>
				Given: <span id="mark-given"></span>
			</p>
			<p>
				Expected: <span id="mark-expected">Dog</span>
			</p>
			<p>
				To <a href="mark-my-words.html">Mark my Words</a>.
			</p>
		</details>

		<details id="hard-result" class="result">
			<summary>
				<span id="hard-correct" class="result-icon correct hidden" aria-label="Correct">✓</span>
				<span id="hard-failed" class="result-icon failed hidden" aria-label="Incorrect">✕</span>
				<span>Hard of Hearing</span>
			</summary>
			<p>
				Given: <span id="hard-given"></span>
			</p>
			<p>
				Expected: <span id="hard-expected">Onomatopoeia</span>
			</p>
			<p>
				To <a href="hard-of-hearing.html">Hard of Hearing</a>.
			</p>
		</details>

		<details id="final-result" class="result">
			<summary>
				<span id="final-correct" class="result-icon correct hidden" aria-label="Correct">✓</span>
				<span id="final-failed" class="result-icon failed hidden" aria-label="Incorrect">✕</span>
				<span>The Final Question</span>
			</summary>
			<p>
				Given: <span id="final-given"></span>
			</p>
			<p>
				Expected: <span id="final-expected">Finish</span>
			</p>
			<p>
				To <a href="the-final-question.html">The Final Question</a>.
			</p>
		</details>
	</main>

	<footer>
		<a href="index.html">Home</a>
		<a href="site-map.html">Site Map</a>
		<a href="privacy.html">Privacy Statement</a>
	</footer>

	<script>
		let correctAnswers = 0;

		const results = document.querySelectorAll('.result');
		results.forEach(result => {
			const key = result.id.split('-')[0];
			const expected = result.querySelector(`#${key}-expected`).textContent;
			const answer = localStorage.getItem(key);

			result.querySelector(`#${key}-given`).textContent = answer || 'no answer';

			if (answer && expected.toLowerCase() == answer.toLowerCase()) {
				result.querySelector(`#${key}-correct`).classList.remove('hidden');
				correctAnswers++;
			} else {
				result.querySelector(`#${key}-failed`).classList.remove('hidden');
			}
		});

		document.querySelector('#score').textContent = correctAnswers;
		document.querySelector('#total').textContent = results.length;
	</script>
</body>

</html>